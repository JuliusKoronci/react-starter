$(function(){$body.append('<div class="uk-modal" id="modal_idle"><div class="uk-modal-dialog"><div class="uk-modal-header"><h3 class="uk-modal-title">Your session is about to expire!</h3></div><p>You\'ve been inactive for a while. For your security, we\'ll log you out automatically.</p><p>Click "Stay Online" to continue your session.</p><p>Your session will expire in <span class="uk-text-bold md-color-red-500" id="sessionSecondsRemaining"></span> seconds.</p><div class="uk-modal-footer uk-text-right"><button id="staySigned" type="button" class="md-btn md-btn-flat uk-modal-close">Stay Online</button><button type="button" class="md-btn md-btn-flat md-btn-flat-primary" id="logoutSession">Logout</button></div></div></div>');var o=UIkit.modal("#modal_idle",{bgclose:!1}),n={inactiveTimeout:5e3,warningTimeout:3e4,minWarning:5e3,warningStart:null,warningTimer:null,autologout:{logouturl:"login.html"},logout:function(){window.location=n.autologout.logouturl}},t=$("#sessionSecondsRemaining").html(n.warningTimeout/1e3);$(document).on("idle.idleTimer",function(i,e,a){var l=+new Date-a.lastActive-a.timeout,u=+new Date-l;l>=n.warningTimeout||u<=n.minWarning?o.hide():(t.html(Math.round((n.warningTimeout-l)/1e3)),o.show(),n.warningStart=+new Date-l,n.warningTimer=setInterval(function(){var o=Math.round(n.warningTimeout/1e3-(+new Date-n.warningStart)/1e3);o>=0?t.html(o):n.logout()},1e3))}),$body.on("click","#staySigned",function(){clearTimeout(n.warningTimer),o.hide()}).on("click","#logoutSession",function(){n.logout()}),$(document).idleTimer(n.inactiveTimeout)});