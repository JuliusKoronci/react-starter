$(function(){altair_search_page.init_map()}),altair_search_page={init_map:function(){function e(){$("#map_search").css({minHeight:$window.height()-$("#header_main").height()-59})}function a(){var e=n.oMap;google.maps.event.trigger(e,"resize"),e.fitBounds(n.oBounds)}e();var t=($("#map_search"),$("#map_search_list").children("li")),i=isHighDensity()?"assets/img/md-images/ic_place_red_48dp.png":"assets/img/md-images/ic_place_red_24dp.png",s=isHighDensity()?new google.maps.Size(48,48):new google.maps.Size(24,24),r=new google.maps.Size(24,24),o=12,l=[];t.each(function(){var e=$(this),a={lat:e.attr("data-gmap-lat"),lon:e.attr("data-gmap-lon"),title:e.attr("data-gmap-company"),html:'<div class="gmap-info-window" style="max-width: 180px;"><h3>'+e.attr("data-gmap-company")+"</h3><p>"+e.attr("data-gmap-company-address")+'</p><p class="uk-margin-small-top"><a target="_blank" href="https://www.google.com/maps/dir/Current+Location/'+e.attr("data-gmap-lat")+","+e.attr("data-gmap-lon")+'">Get Directions</a></p></div>',zoom:o,icon:{url:i,size:s,scaledSize:r}};l.push(a)});var n=new Maplace({map_div:"#map_search",locations:l,controls_on_map:!1,map_options:{set_center:[40.85167,-93.259932],zoom:12,streetViewControl:!1},styles:{"Blue water":[{featureType:"water",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"landscape",stylers:[{color:"#f2f2f2"}]},{featureType:"road",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]}]}}).Load();t.on("click",function(e){e.preventDefault();var a=$(this),t=a.index();a.addClass("md-list-item-active").siblings().removeClass("md-list-item-active"),n.ViewOnMap(t+1)}),$(".map_search_wrapper").on("display.uk.check",function(){a()}),$(window).on("debouncedresize",function(){e(),a()}),$("#map_search_list_toggle").on("click",function(e){e.preventDefault(),$(".map_search_wrapper").toggleClass("map_search_list_active"),setTimeout(function(){a()},290)})}};